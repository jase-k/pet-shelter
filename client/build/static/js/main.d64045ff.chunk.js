(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t),c.d(t,"API_URL",(function(){return F}));var n=c(1),s=c.n(n),l=c(22),i=c.n(l),j=(c(27),c.p,c(28),c(3)),a=c(7),o=c.n(a),b=c(9),r=c(4),d=c(0),h=c(2),O=c(8),u=function(e){return Object(d.jsxs)("table",{children:[Object(d.jsxs)("thead",{children:[Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Type"}),Object(d.jsx)("th",{children:"Actions"})]}),Object(d.jsx)("tbody",{children:e.petList.map((function(e){return console.log(e),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.type}),Object(d.jsxs)("td",{children:[Object(d.jsx)(O.b,{to:"/pets/"+e._id+"/edit",className:"btn btn-warning",children:"EDIT"}),Object(d.jsx)(O.b,{to:"/pets/"+e._id,className:"btn btn-info",children:" DETAILS"})]})]})}))})]})},p=function(e){return Object(d.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(d.jsx)("h1",{children:"Pet Shelter"}),e.home?Object(d.jsx)(O.b,{to:"/pets/new",children:"add a pet to the shelter"}):Object(d.jsx)(O.b,{to:"/",children:"return home"})]})},x=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1];Object(h.f)();return Object(n.useEffect)((function(){o.a.get(F+"/api/pets").then((function(e){console.log(e),s(e.data.pets)})).catch((function(e){return console.log(e)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{home:!0}),Object(d.jsx)("h2",{children:"These Pets are looking for a good home"}),Object(d.jsx)(u,{petList:c})]})},m={name:"",type:"",description:"",skills:[""]},f=function(e){var t=Object(n.useState)(Object(r.a)({},m)),c=Object(j.a)(t,2),s=c[0],l=c[1];console.log(s,e),Object(n.useEffect)((function(){l(e.pet)}),[e]);var i=function(e){var t=Object(j.a)(s.skills,3),c=t[0],n=t[1],i=t[2];"skill1"===e.target.name?l(Object(r.a)(Object(r.a)({},s),{},{skills:[e.target.value,n,i]})):"skill2"===e.target.name?l(Object(r.a)(Object(r.a)({},s),{},{skills:[c,e.target.value,i]})):"skill3"===e.target.name?l(Object(r.a)(Object(r.a)({},s),{},{skills:[c,n,e.target.value]})):l(Object(r.a)(Object(r.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)("form",{className:"form-control",onSubmit:function(t){e.handleSubmit(t,s)},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",children:"Pet Name:"}),Object(d.jsx)("input",{type:"text",name:"name",id:"name",value:s.name,onChange:function(e){i(e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"type",children:"Pet Type:"}),Object(d.jsx)("input",{type:"text",name:"type",id:"type",value:s.type,onChange:function(e){i(e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(d.jsx)("input",{type:"text",name:"description",id:"description",value:s.description,onChange:function(e){i(e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"skill1",children:"Skill 1:"}),Object(d.jsx)("input",{type:"text",name:"skill1",id:"skill1",value:s.skills?s.skills[0]:"",onChange:function(e){i(e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"skill2",children:"Skill 2:"}),Object(d.jsx)("input",{type:"text",name:"skill2",id:"skill2",value:s.skills?s.skills[1]:"",onChange:function(e){i(e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"skill3",children:"Skill 3:"}),Object(d.jsx)("input",{type:"text",name:"skill3",id:"skill3",value:s.skills?s.skills[2]:"",onChange:function(e){i(e)}})]}),Object(d.jsx)("button",{type:"submit",children:e.isEdit?"Save":"Add"})]})},g={name:"",type:"",description:"",skills:[]},k=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),c=t[0],s=t[1],l=Object(n.useState)(Object(r.a)({},g)),i=Object(j.a)(l,2),a=i[0],b=i[1],O=Object(h.g)().id,u=Object(h.f)();Object(n.useEffect)((function(){o.a.get("http://localhost:8000/api/pets/"+O).then((function(e){console.log(e),b(e.data.pet)})).catch((function(e){console.log(e.response),s(!1),b(Object(r.a)({},g))}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{home:!1}),Object(d.jsx)(f,{handleSubmit:function(e,t){return function(e,t){e.preventDefault(),c?o.a.put("http://localhost:8000/api/pets/update/"+O,t).then((function(e){console.log(e),u("/")})).catch((function(e){console.log(e.response)})):o.a.post("http://localhost:8000/api/pets/new",t).then((function(e){console.log(e),u("/")})).catch((function(e){console.log(e.response),alert(e.response.data.error.message)}))}(e,t)},pet:a,isEdit:c})]})},v=function(e){console.log(e);var t=Object(n.useState)({}),c=Object(j.a)(t,2),s=c[0],l=c[1],i=Object(n.useState)(0),a=Object(j.a)(i,2),b=a[0],O=a[1],u=Object(h.g)().id;Object(n.useEffect)((function(){l(e.pet),O(e.pet.likes)}),[e]);return Object(n.useEffect)((function(){o.a.put("http://localhost:8000/api/pets/update/"+u,Object(r.a)(Object(r.a)({},s),{},{likes:b})).then((function(e){return console.log(e.data)}))}),[b]),Object(d.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Pet Type:"}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{children:s.type})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Pet Description:"}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{children:s.description})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Pet Skills:"}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{children:s.skills?s.skills.map((function(e){return Object(d.jsx)("p",{className:"m-0 p-0",children:e})})):""})]}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{children:Object(d.jsxs)("button",{className:"btn btn-info",onClick:function(){O(b+1)},children:["Like ",s.name]})}),Object(d.jsxs)("td",{children:[b," likes"]})]})},y=function(){var e=Object(n.useState)({}),t=Object(j.a)(e,2),c=t[0],s=t[1],l=Object(h.g)().id,i=Object(h.f)();Object(n.useEffect)((function(){o.a.get("http://localhost:8000/api/pets/"+l).then((function(e){console.log(e),s(e.data.pet)})).catch((function(e){console.log(e.response)}))}),[]);return"new"===l?Object(d.jsx)(d.Fragment,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{home:!1}),Object(d.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(d.jsxs)("h3",{children:["Details about: ",c.name]}),Object(d.jsxs)("button",{className:"btn btn-danger",onClick:function(){o.a.delete("http://localhost:8000/api/pets/delete/"+l).then((function(e){console.log(e),i("/")})).catch((function(e){return console.log(e.response)}))},children:["Adopt ",c.name]})]}),Object(d.jsx)(v,{pet:c})]})};var S=function(){return Object(d.jsx)(O.a,{children:Object(d.jsxs)("div",{className:"App container",children:[Object(d.jsx)(h.c,{children:Object(d.jsx)(h.a,{exact:!0,path:"/",element:Object(d.jsx)(x,{})})}),Object(d.jsx)(h.c,{children:Object(d.jsx)(h.a,{exact:!0,path:"/pets/new",element:Object(d.jsx)(k,{type:"new"})})}),Object(d.jsx)(h.c,{children:Object(d.jsx)(h.a,{exact:!0,path:"/pets/:id/edit",element:Object(d.jsx)(k,{type:"edit"})})}),Object(d.jsx)(h.c,{children:Object(d.jsx)(h.a,{exact:!0,path:"/pets/:id",element:Object(d.jsx)(y,{})})})]})})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,49)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,l=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),l(e),i(e)}))},F="http://localhost:8000";i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root")),N()}},[[48,1,2]]]);
//# sourceMappingURL=main.d64045ff.chunk.js.map